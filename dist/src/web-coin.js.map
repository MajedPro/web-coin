{"version":3,"sources":["../../src/web-coin.js"],"names":["WebCoin","name","coin","id","last","lowestAsk","highestBid","percentChange","isFrozen","high24hr","window","XMLHttpRequest","ActiveXObject","url","async","xhttp","getXHTTP","onreadystatechange","readyState","status","objectWebCoins","parseJson","responseText","coinsArray","open","send","json","JSON","parse","obj","key","push","index","console","log","urlPoloniex","jsonCoins","getCoinsFromUrl"],"mappings":";;;;;;AAAA;;;;IAIMA,O;AACF,qBAAYC,IAAZ,EAAkBC,IAAlB,EAAwB;AAAA;;AACpB,aAAKD,IAAL,GAAqBA,IAArB;AACA,aAAKE,EAAL,GAAqBD,KAAKC,EAA1B;AACA,aAAKC,IAAL,GAAqBF,KAAKE,IAA1B;AACA,aAAKC,SAAL,GAAqBH,KAAKG,SAA1B;AACA,aAAKC,UAAL,GAAqBJ,KAAKI,UAA1B;AACA,aAAKC,aAAL,GAAqBL,KAAKK,aAA1B;AACA,aAAKC,QAAL,GAAqBN,KAAKM,QAA1B;AACA,aAAKC,QAAL,GAAqBP,KAAKO,QAA1B;AACH;;;;mCAEiB;AACd,gBAAIC,OAAOC,cAAX,EAA2B;AACvB,uBAAO,IAAIA,cAAJ,EAAP;AACH;AACD;AACA,mBAAO,IAAIC,aAAJ,CAAkB,mBAAlB,CAAP;AACH;;;wCAEsBC,G,EAAoB;AAAA,gBAAfC,KAAe,uEAAP,KAAO;;AACvC,gBAAIC,QAAQ,KAAKC,QAAL,EAAZ;AACA,gBAAIF,KAAJ,EAAW;AACPC,sBAAME,kBAAN,GAA2B,YAAY;AACnC,wBAAI,KAAKC,UAAL,IAAmB,CAAnB,IAAwB,KAAKC,MAAL,IAAe,GAA3C,EAAgD;AAC5C,4BAAIC,kBAAiBpB,QAAQqB,SAAR,CAAkB,KAAKC,YAAvB,CAArB;AAAA,4BACIC,cAAiBvB,QAAQuB,UAAR,CAAmBH,eAAnB,CADrB;AAEA;AACH;AACJ,iBAND;AAOH;AACDL,kBAAMS,IAAN,CAAW,KAAX,EAAkBX,GAAlB,EAAuBC,KAAvB;AACAC,kBAAMU,IAAN;;AAEA,gBAAI,CAACX,KAAL,EAAY;AACR,uBAAOC,MAAMO,YAAb;AACH;AACJ;;;kCAEgBI,I,EAAM;AACnB,mBAAOC,KAAKC,KAAL,CAAWF,IAAX,CAAP;AACH;;;mCAEiBG,G,EAAK;AACnB,gBAAIN,aAAa,EAAjB;;AAEA,iBAAK,IAAIO,GAAT,IAAgBD,GAAhB,EAAqB;AACjBN,2BAAWQ,IAAX,CAAgB,IAAI/B,OAAJ,CAAY8B,GAAZ,EAAiBD,IAAIC,GAAJ,CAAjB,CAAhB;AACH;;AAED,mBAAOP,UAAP;AACH;;;mCAEiBA,U,EAAY;AAC1B,iBAAK,IAAIS,KAAT,IAAkBT,UAAlB,EAA8B;AAC1BU,wBAAQC,GAAR,CAAYX,WAAWS,KAAX,EAAkB/B,IAA9B;AACH;AACJ;;;;;;AAGL,IAAIkC,cAAiB,kDAArB;AAAA,IACIC,YAAiBpC,QAAQqC,eAAR,CAAwBF,WAAxB,CADrB;AAAA,IAEIf,iBAAiBpB,QAAQqB,SAAR,CAAkBe,SAAlB,CAFrB;AAAA,IAGIb,aAAiBvB,QAAQuB,UAAR,CAAmBH,cAAnB,CAHrB;;AAKA;AACAa,QAAQC,GAAR,CAAYd,cAAZ;;AAEA,KAAK,IAAIY,KAAT,IAAkBT,UAAlB,EAA8B;AAC1BU,YAAQC,GAAR,CAAYX,WAAWS,KAAX,EAAkB/B,IAA9B;AACH","file":"web-coin.js","sourcesContent":["/**\r\n * Created by Admininstrator on 27.02.2017.\r\n */\r\n\r\nclass WebCoin {\r\n    constructor(name, coin) {\r\n        this.name          = name;\r\n        this.id            = coin.id;\r\n        this.last          = coin.last;\r\n        this.lowestAsk     = coin.lowestAsk;\r\n        this.highestBid    = coin.highestBid;\r\n        this.percentChange = coin.percentChange;\r\n        this.isFrozen      = coin.isFrozen;\r\n        this.high24hr      = coin.high24hr;\r\n    }\r\n\r\n    static getXHTTP() {\r\n        if (window.XMLHttpRequest) {\r\n            return new XMLHttpRequest();\r\n        }\r\n        // code for IE6, IE5\r\n        return new ActiveXObject(\"Microsoft.XMLHTTP\");\r\n    }\r\n\r\n    static getCoinsFromUrl(url, async = false) {\r\n        let xhttp = this.getXHTTP();\r\n        if (async) {\r\n            xhttp.onreadystatechange = function () {\r\n                if (this.readyState == 4 && this.status == 200) {\r\n                    let objectWebCoins = WebCoin.parseJson(this.responseText),\r\n                        coinsArray     = WebCoin.coinsArray(objectWebCoins);\r\n                    // WebCoin.printCoins(coinsArray);\r\n                }\r\n            };\r\n        }\r\n        xhttp.open(\"GET\", url, async);\r\n        xhttp.send();\r\n\r\n        if (!async) {\r\n            return xhttp.responseText;\r\n        }\r\n    }\r\n\r\n    static parseJson(json) {\r\n        return JSON.parse(json);\r\n    }\r\n\r\n    static coinsArray(obj) {\r\n        let coinsArray = [];\r\n\r\n        for (let key in obj) {\r\n            coinsArray.push(new WebCoin(key, obj[key]));\r\n        }\r\n\r\n        return coinsArray;\r\n    }\r\n\r\n    static printCoins(coinsArray) {\r\n        for (let index in coinsArray) {\r\n            console.log(coinsArray[index].name);\r\n        }\r\n    }\r\n}\r\n\r\nlet urlPoloniex    = \"https://poloniex.com/public?command=returnTicker\",\r\n    jsonCoins      = WebCoin.getCoinsFromUrl(urlPoloniex),\r\n    objectWebCoins = WebCoin.parseJson(jsonCoins),\r\n    coinsArray     = WebCoin.coinsArray(objectWebCoins);\r\n\r\n// WebCoin.printCoins(coinsArray);\r\nconsole.log(objectWebCoins);\r\n\r\nfor (let index in coinsArray) {\r\n    console.log(coinsArray[index].name);\r\n}\r\n"]}